# RunFarAway
Проект разбит на 2 части: Core и Gameplay. В первой части расположено всё то, что не зависит от геймплея, но требуется для него.
Каждая часть лежит в своём assembly definition. Не стал разбивать по assembly definition сервисы и их интерфейсы в целях экономии времени.

Для инверсии зависимостей использован VContainer, получающий через ExportsCollection классы сборки и регистрирующий их через реализованные ими интерфейсы (кроме состояний StateMachine) в GameLifetimeScope, выступающем в роли Composition Root.

Машина состояний используется для перехода из инициализации в мета-геймплей (меню игры), в кор-геймплей и обратно в мету.

Точка входа - сцена Initialization. DI-контейнером неявно создаётся объект Initializer, который переводит стейт-машину в состоянее Bootstrap, где происходит инициализация сервисов, затем загружается игровая сцена.

Логика игры реализована через сервисы и контроллеры:
- Сервисы выполняют одну специфическую функцию (UI, ввод пользователя, хранение конфигов)
- Контроллеры работают с игровыми сущностями сцены и содержат в себе основную логику кор-геймплея

Кор-геймплей представлен через:
- GameController - управляющий класс, координирующий работу других контроллеров
- LevelController - управляет генерацией уровня, т.е. создаёт блоки, в которых располагаются препятствия и баффы
- PlayerController - работает с моделью игрока и переадресовывает работу по передвижению контроллеру движения
- PlayerMovementController - движет визуал игрока

Задание реализовано с использованием минимального количества MonoBehaviour. Создание объектов сцены реализовано через фабрику.

Доп. информация:
Все настройки игры представлены набором ScriptableObject'ов, расположенных в StaticData.
Повторно собираемые баффы не увеличивают длительность аналогичного баффа.
